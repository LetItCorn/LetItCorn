<!-- src/views/components/MaterialList.vue -->
<template>
  <!-- ğŸ†• ìŠ¤í¬ë¡¤ ì „ìš© ë˜í¼: h-100 ë¡œ ì¹´ë“œ ë†’ì´ë¥¼ ê·¸ëŒ€ë¡œ ìƒì† -->
  <div class="table-wrapper h-100">
    <table class="table table-hover table-sm mb-0">
      <thead>
        <tr>
          <th>ìì¬ì½”ë“œ</th>
          <th>ìì¬ëª…</th>
          <th>ë‹¨ìœ„</th>
          <th>ë‹¨ê°€</th>
          <th>ì•ˆì „ì¬ê³ </th>
        </tr>
      </thead>
      <tbody>
        <tr
          v-for="mat in materialList"
          :key="mat.mater_code"
          @click="$emit('select', mat)"
          :class="{ 'table-active': mat.mater_code === selectedCode }"
          style="cursor:pointer"
        >
          <td>{{ mat.mater_code }}</td>
          <td>{{ mat.mater_name }}</td>
          <td>{{ mat.spec }}</td>
          <td>{{ mat.m_price }}</td>
          <td>{{ mat.safe_stock }}</td>
        </tr>

        <!-- ë°ì´í„°ê°€ ì—†ì„ ë•Œ -->
        <tr v-if="!materialList.length">
          <td colspan="5" class="text-center py-4">ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</td>
        </tr>
      </tbody>
    </table>
  </div>
</template>

<script>
export default {
  props: ['materialList', 'selectedCode'],
  emits: ['select']
};
</script>

<style scoped>
/* 1) ë˜í¼ div ì— ìŠ¤í¬ë¡¤ ì ìš© */
.table-wrapper {
  overflow: auto;
}

/* 2) í—¤ë” ê³ ì • & ê²¹ì¹¨ ë°©ì§€ */
table thead th {
  position: sticky;
  top: 0;
  z-index: 1;
  background: #f8f9fa;
}

/* 3) ì„ íƒÂ·í˜¸ë²„ ìƒ‰ìƒ(ë¶€ëª¨ ìŠ¤íƒ€ì¼ê³¼ ë™ì¼) */
.table-active { background-color: #d0ebff; }
tbody tr:hover { background-color: #f8f9fa; }
</style>
